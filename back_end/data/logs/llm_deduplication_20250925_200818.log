2025-09-25 20:08:18,037 - INFO - Created backup: data/processed/intervention_research_deduplication_backup_20250925_200818.db
2025-09-25 20:08:18,037 - INFO - Processing intervention entities...
2025-09-25 20:08:18,041 - INFO - Analyzing 50 intervention terms for duplicates...
2025-09-25 20:08:18,650 - INFO - Database tables and indexes created successfully
2025-09-25 20:08:18,650 - ERROR - Database connection error: FOREIGN KEY constraint failed
2025-09-25 20:08:18,650 - ERROR - Error setting up intervention categories: FOREIGN KEY constraint failed
2025-09-25 20:08:18,650 - INFO - Enhanced database manager initialized at C:\Users\samis\Desktop\MyBiome\back_end\data\processed\intervention_research.db
2025-09-25 20:08:35,557 - INFO - HTTP Request: POST http://localhost:11434/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-25 20:08:35,563 - INFO - Found 4 potential duplicate groups
2025-09-25 20:08:35,563 - INFO - Skipping group with low confidence: 0.99 or insufficient synonyms
2025-09-25 20:08:35,563 - INFO - Merging group: 'low-FODMAP diet' <- ['low FODMAP diet', 'FODMAP diet'] (confidence: 0.95)
2025-09-25 20:08:35,564 - INFO - Using existing canonical: 'low-FODMAP diet' -> ID 268
2025-09-25 20:08:35,564 - INFO - Merging 'FODMAP diet' (ID 357) into 'low-FODMAP diet' (ID 268)
2025-09-25 20:08:35,564 - INFO - Updated 4 intervention records
2025-09-25 20:08:35,564 - INFO - Updated 0 entity mappings
2025-09-25 20:08:35,564 - INFO - Merging 'low FODMAP diet' (ID 3) into 'low-FODMAP diet' (ID 268)
2025-09-25 20:08:35,564 - INFO - Updated 16 intervention records
2025-09-25 20:08:35,564 - INFO - Updated 2 entity mappings
2025-09-25 20:08:35,568 - INFO - Merging group: 'Selective serotonin reuptake inhibitors (SSRIs)' <- ['antidepressants', 'Sertraline'] (confidence: 0.85)
2025-09-25 20:08:35,569 - INFO - Using existing canonical: 'Selective serotonin reuptake inhibitors (SSRIs)' -> ID 8
2025-09-25 20:08:35,569 - INFO - Merging 'Sertraline' (ID 9) into 'Selective serotonin reuptake inhibitors (SSRIs)' (ID 8)
2025-09-25 20:08:35,569 - INFO - Updated 4 intervention records
2025-09-25 20:08:35,569 - INFO - Updated 0 entity mappings
2025-09-25 20:08:35,569 - INFO - Merging 'antidepressants' (ID 95) into 'Selective serotonin reuptake inhibitors (SSRIs)' (ID 8)
2025-09-25 20:08:35,569 - INFO - Updated 3 intervention records
2025-09-25 20:08:35,569 - INFO - Updated 0 entity mappings
2025-09-25 20:08:35,570 - INFO - Skipping group with low confidence: 0.75 or insufficient synonyms
2025-09-25 20:08:35,570 - INFO - Processing condition entities...
2025-09-25 20:08:35,571 - INFO - Analyzing 50 condition terms for duplicates...
2025-09-25 20:09:14,489 - INFO - HTTP Request: POST http://localhost:11434/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-25 20:09:14,489 - INFO - Found 10 potential duplicate groups
2025-09-25 20:09:14,489 - INFO - Merging group: 'Irritable Bowel Syndrome' <- ['irritable bowel syndrome', 'IBS', 'diarrhea-predominant irritable bowel syndrome (IBS-D)', 'IBS-D', 'irritable bowel syndrome with constipation (IBS-C)', 'constipation-predominant irritable bowel syndrome (IBS-C)', 'IBS-C', 'constipation-predominant irritable bowel syndrome (IBS)'] (confidence: 0.99)
2025-09-25 20:09:14,489 - INFO - Created new canonical: 'Irritable Bowel Syndrome' -> ID 802
2025-09-25 20:09:14,489 - INFO - Merging 'IBS' (ID 545) into 'Irritable Bowel Syndrome' (ID 802)
2025-09-25 20:09:14,491 - INFO - Updated 28 condition records
2025-09-25 20:09:14,491 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,491 - INFO - Merging 'IBS-C' (ID 732) into 'Irritable Bowel Syndrome' (ID 802)
2025-09-25 20:09:14,491 - INFO - Updated 1 condition records
2025-09-25 20:09:14,491 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,491 - INFO - Merging 'IBS-D' (ID 731) into 'Irritable Bowel Syndrome' (ID 802)
2025-09-25 20:09:14,491 - INFO - Updated 12 condition records
2025-09-25 20:09:14,491 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,491 - INFO - Merging 'constipation-predominant irritable bowel syndrome (IBS)' (ID 677) into 'Irritable Bowel Syndrome' (ID 802)
2025-09-25 20:09:14,491 - INFO - Updated 4 condition records
2025-09-25 20:09:14,491 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,491 - INFO - Merging 'constipation-predominant irritable bowel syndrome (IBS-C)' (ID 641) into 'Irritable Bowel Syndrome' (ID 802)
2025-09-25 20:09:14,491 - INFO - Updated 8 condition records
2025-09-25 20:09:14,493 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,493 - INFO - Merging 'diarrhea-predominant irritable bowel syndrome (IBS-D)' (ID 597) into 'Irritable Bowel Syndrome' (ID 802)
2025-09-25 20:09:14,493 - INFO - Updated 19 condition records
2025-09-25 20:09:14,493 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,493 - INFO - Merging 'irritable bowel syndrome' (ID 2) into 'Irritable Bowel Syndrome' (ID 802)
2025-09-25 20:09:14,493 - INFO - Updated 29 condition records
2025-09-25 20:09:14,493 - INFO - Updated 2 entity mappings
2025-09-25 20:09:14,493 - INFO - Merging 'irritable bowel syndrome with constipation (IBS-C)' (ID 691) into 'Irritable Bowel Syndrome' (ID 802)
2025-09-25 20:09:14,493 - INFO - Updated 10 condition records
2025-09-25 20:09:14,493 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,496 - INFO - Merging group: 'Rheumatoid Arthritis' <- ['rheumatoid arthritis', 'early rheumatoid arthritis'] (confidence: 0.95)
2025-09-25 20:09:14,498 - INFO - Created new canonical: 'Rheumatoid Arthritis' -> ID 803
2025-09-25 20:09:14,498 - INFO - Merging 'early rheumatoid arthritis' (ID 655) into 'Rheumatoid Arthritis' (ID 803)
2025-09-25 20:09:14,498 - INFO - Updated 4 condition records
2025-09-25 20:09:14,498 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,498 - INFO - Merging 'rheumatoid arthritis' (ID 551) into 'Rheumatoid Arthritis' (ID 803)
2025-09-25 20:09:14,498 - INFO - Updated 28 condition records
2025-09-25 20:09:14,498 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,500 - INFO - Merging group: 'Small Intestinal Bacterial Overgrowth (SIBO)' <- ['small intestinal bacterial overgrowth (SIBO)', 'SIBO'] (confidence: 0.98)
2025-09-25 20:09:14,500 - INFO - Created new canonical: 'Small Intestinal Bacterial Overgrowth (SIBO)' -> ID 804
2025-09-25 20:09:14,500 - INFO - Merging 'SIBO' (ID 692) into 'Small Intestinal Bacterial Overgrowth (SIBO)' (ID 804)
2025-09-25 20:09:14,500 - INFO - Updated 13 condition records
2025-09-25 20:09:14,500 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,500 - INFO - Merging 'small intestinal bacterial overgrowth (SIBO)' (ID 690) into 'Small Intestinal Bacterial Overgrowth (SIBO)' (ID 804)
2025-09-25 20:09:14,500 - INFO - Updated 16 condition records
2025-09-25 20:09:14,500 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,502 - INFO - Merging group: 'Coronary Artery Disease' <- ['coronary heart disease', 'coronary heart disease (CHD)', 'coronary artery disease', 'CHD'] (confidence: 0.97)
2025-09-25 20:09:14,502 - INFO - Created new canonical: 'Coronary Artery Disease' -> ID 805
2025-09-25 20:09:14,502 - INFO - Merging 'coronary artery disease' (ID 638) into 'Coronary Artery Disease' (ID 805)
2025-09-25 20:09:14,502 - INFO - Updated 12 condition records
2025-09-25 20:09:14,502 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,502 - INFO - Merging 'coronary heart disease' (ID 663) into 'Coronary Artery Disease' (ID 805)
2025-09-25 20:09:14,502 - INFO - Updated 14 condition records
2025-09-25 20:09:14,502 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,502 - INFO - Merging 'coronary heart disease (CHD)' (ID 549) into 'Coronary Artery Disease' (ID 805)
2025-09-25 20:09:14,504 - INFO - Updated 9 condition records
2025-09-25 20:09:14,504 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,504 - INFO - Merging group: 'Type 2 Diabetes Mellitus' <- ['type 2 diabetes', 'type 2 diabetes mellitus (T2DM)', 'type 2 diabetes mellitus'] (confidence: 0.99)
2025-09-25 20:09:14,504 - INFO - Created new canonical: 'Type 2 Diabetes Mellitus' -> ID 806
2025-09-25 20:09:14,504 - INFO - Merging 'type 2 diabetes' (ID 580) into 'Type 2 Diabetes Mellitus' (ID 806)
2025-09-25 20:09:14,504 - INFO - Updated 17 condition records
2025-09-25 20:09:14,504 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,504 - INFO - Merging 'type 2 diabetes mellitus' (ID 637) into 'Type 2 Diabetes Mellitus' (ID 806)
2025-09-25 20:09:14,504 - INFO - Updated 4 condition records
2025-09-25 20:09:14,506 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,506 - INFO - Merging 'type 2 diabetes mellitus (T2DM)' (ID 573) into 'Type 2 Diabetes Mellitus' (ID 806)
2025-09-25 20:09:14,506 - INFO - Updated 6 condition records
2025-09-25 20:09:14,506 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,506 - INFO - Skipping group with low confidence: 0.95 or insufficient synonyms
2025-09-25 20:09:14,506 - INFO - Merging group: 'Post-acute Sequelae of SARS-CoV-2 infection' <- ['PASC', 'Post-acute Sequelae of SARS-CoV-2 infection'] (confidence: 0.98)
2025-09-25 20:09:14,506 - INFO - Created new canonical: 'Post-acute Sequelae of SARS-CoV-2 infection' -> ID 807
2025-09-25 20:09:14,506 - INFO - Merging 'PASC' (ID 627) into 'Post-acute Sequelae of SARS-CoV-2 infection' (ID 807)
2025-09-25 20:09:14,508 - INFO - Updated 4 condition records
2025-09-25 20:09:14,508 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,508 - INFO - Merging group: 'Constipation' <- ['constipation', 'functional constipation'] (confidence: 0.97)
2025-09-25 20:09:14,508 - INFO - Created new canonical: 'Constipation' -> ID 808
2025-09-25 20:09:14,508 - INFO - Merging 'constipation' (ID 704) into 'Constipation' (ID 808)
2025-09-25 20:09:14,508 - INFO - Updated 6 condition records
2025-09-25 20:09:14,508 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,508 - INFO - Merging 'functional constipation' (ID 718) into 'Constipation' (ID 808)
2025-09-25 20:09:14,508 - INFO - Updated 4 condition records
2025-09-25 20:09:14,508 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,510 - INFO - Merging group: 'Gastro-esophageal Reflux Disease (GERD)' <- ['gastro-esophageal reflux disease (GERD)', 'Non-erosive reflux disease (NERD)'] (confidence: 0.95)
2025-09-25 20:09:14,510 - INFO - Created new canonical: 'Gastro-esophageal Reflux Disease (GERD)' -> ID 809
2025-09-25 20:09:14,510 - INFO - Merging 'Non-erosive reflux disease (NERD)' (ID 799) into 'Gastro-esophageal Reflux Disease (GERD)' (ID 809)
2025-09-25 20:09:14,511 - INFO - Updated 4 condition records
2025-09-25 20:09:14,511 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,511 - INFO - Merging 'gastro-esophageal reflux disease (GERD)' (ID 798) into 'Gastro-esophageal Reflux Disease (GERD)' (ID 809)
2025-09-25 20:09:14,511 - INFO - Updated 4 condition records
2025-09-25 20:09:14,511 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,512 - INFO - Merging group: 'Carotid Atherosclerosis' <- ['carotid atherosclerosis', 'carotid atherosclerosis in patients with type 2 diabetes mellitus'] (confidence: 0.98)
2025-09-25 20:09:14,512 - INFO - Created new canonical: 'Carotid Atherosclerosis' -> ID 810
2025-09-25 20:09:14,512 - INFO - Merging 'carotid atherosclerosis' (ID 631) into 'Carotid Atherosclerosis' (ID 810)
2025-09-25 20:09:14,513 - INFO - Updated 3 condition records
2025-09-25 20:09:14,513 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,513 - INFO - Merging 'carotid atherosclerosis in patients with type 2 diabetes mellitus' (ID 632) into 'Carotid Atherosclerosis' (ID 810)
2025-09-25 20:09:14,513 - INFO - Updated 3 condition records
2025-09-25 20:09:14,513 - INFO - Updated 0 entity mappings
2025-09-25 20:09:14,514 - INFO - 
================================================================================
DEDUPLICATION COMPLETE
================================================================================
Total entities merged: 29
Backup created: data/processed/intervention_research_deduplication_backup_20250925_200818.db
================================================================================
        
